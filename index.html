<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>KarmaCalculator ‚Äî Modo Venenoso (beta curvista)</title>
<meta name="description" content="Calculadora k√°rmica con Modo Venenoso (veneno + reino + nidanas). Proyecto curvista experimental.">
<style>
  :root {
    --bg:#020402;
    --fg:#d8ffe1;
    --accent:#00ff66;
    --line:#062b15;
    --muted:#6fa88a;
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;height:100%;font-family:'Courier New',monospace;color:var(--fg);background:radial-gradient(circle at center,#021108 0%,#010604 100%);overflow-x:hidden;}
  canvas.matrix{
    position:fixed;top:0;left:0;width:100%;height:100%;
    z-index:-1;background:transparent;
  }
  .wrap{max-width:960px;margin:0 auto;padding:26px;line-height:1.6;}
  header{text-align:center;padding:20px;border:1px solid var(--line);border-radius:12px;background:rgba(0,20,10,0.6);backdrop-filter:blur(4px);}
  h1{margin:0;color:var(--accent);font-size:clamp(1.4rem,2.8vw,2rem);}
  h2{color:#b6f3cc;margin-top:20px;}
  p{margin-top:10px;}
  section.card{margin-top:22px;padding:18px;border:1px solid var(--line);border-radius:12px;background:rgba(0,25,12,0.5);}
  label{display:block;margin-top:8px;}
  select,input,textarea{width:100%;background:#021208;color:var(--fg);border:1px solid var(--line);border-radius:8px;padding:8px;}
  .btn{background:var(--accent);color:#002f16;border:none;border-radius:8px;padding:10px 18px;font-weight:600;cursor:pointer;margin-top:8px;}
  .out{font-weight:700;color:var(--accent);}
  .row{display:flex;justify-content:space-between;border-bottom:1px dotted var(--line);padding:6px 0;}
  .muted{color:var(--muted);font-size:.9rem;}
  footer{text-align:center;padding:20px;margin-top:40px;border-top:1px solid var(--accent);font-size:.9rem;color:var(--muted);}
  a{color:var(--accent);text-decoration:none;border-bottom:1px dotted var(--accent);}
  a:hover{opacity:.9;}
</style>
</head>
<body>
<canvas class="matrix"></canvas>
<div class="wrap">
<header>
  <h1>KarmaCalculator ‚Äî Modo Venenoso</h1>
  <p>Una herramienta l√∫dica-filos√≥fica para explorar c√≥mo los tres venenos budistas influyen en tus decisiones simb√≥licas.</p>
</header>

<section class="card">
  <h2>Explicaci√≥n para quienes no conocen el budismo</h2>
  <p>En la tradici√≥n budista se habla de tres fuerzas mentales que mantienen a los seres atrapados en el ciclo del sufrimiento (<em>Samsara</em>): <strong>Ignorancia</strong>, <strong>Deseo</strong> y <strong>Aversi√≥n</strong>. Se las llama ‚Äútres venenos‚Äù porque nublan la mente y alimentan nuestras reacciones autom√°ticas.</p>
  <p>En esta calculadora se usan como una <strong>mec√°nica simb√≥lica</strong>: al combinar un veneno con un <em>reino</em> (estado mental) y ciertas <em>nidanas</em> (eslabones causales), se obtiene un multiplicador que muestra c√≥mo la causa se traduce en efecto dentro del juego.</p>

  <h3 style="color:var(--accent)">Reinos como estados mentales</h3>
  <ul>
    <li><strong>Devas</strong> ‚Äî placer y comodidad que adormece</li>
    <li><strong>Asuras</strong> ‚Äî competencia y orgullo</li>
    <li><strong>Humanos</strong> ‚Äî equilibrio y posibilidad de despertar</li>
    <li><strong>Animales</strong> ‚Äî h√°bito e instinto</li>
    <li><strong>Pretas</strong> ‚Äî deseo y carencia infinita</li>
    <li><strong>Infierno</strong> ‚Äî rabia y sufrimiento extremo</li>
  </ul>

  <h3 style="color:var(--accent)">Nidanas como procesos mentales</h3>
  <p>Las 12 Nidanas explican c√≥mo la mente fabrica realidad: de la <strong>Ignorancia</strong> al <strong>Renacimiento</strong>. Reconocerlas es comenzar a liberarse del ciclo.</p>

  <p class="muted">üîç Para ampliar conceptos visita el <a href="https://sage-custard-592036.netlify.app/diccionario/" target="_blank">Diccionario Curvista</a>.</p>
</section>

<section class="card">
  <h2>Par√°metros venenosos</h2>
  <label>Veneno</label>
  <select id="veneno">
    <option value="ignorancia">Ignorancia (cerdo)</option>
    <option value="deseo">Deseo / Apego (gallo)</option>
    <option value="aversion">Aversi√≥n / Odio (serpiente)</option>
  </select>

  <label>Reino</label>
  <select id="reino">
    <option value="devas">Devas</option>
    <option value="asuras">Asuras</option>
    <option value="humanos" selected>Humanos</option>
    <option value="animales">Animales</option>
    <option value="pretas">Pretas</option>
    <option value="infierno">Infierno</option>
  </select>

  <h3 style="margin-top:10px">Nidanas sugeridas (elige 1‚Äì3)</h3>
  <div id="nidanasBox"></div>

  <hr style="border:none;border-top:1px dotted var(--line);margin:10px 0;">
  <div class="row"><div>Multiplicador venenoso</div><div class="out" id="multOut">1.000</div></div>
</section>

<section class="card">
  <h2>Aplicaci√≥n</h2>
  <label>Resultado base</label>
  <input id="base" type="number" step="0.001" value="10">
  <button class="btn" id="aplicarBase">Aplicar multiplicador</button>
  <div class="row"><div>Resultado final</div><div class="out" id="finalBase">10.000</div></div>
</section>

<section class="card">
  <h2>Por qu√© estos pesos</h2>
  <p>Los pesos se inspiran en la funci√≥n de cada veneno en la rueda del Samsara. No es doctrina, sino punto de partida:</p>
  <ul>
    <li><strong>Ignorancia (1.10)</strong> ‚Äî ra√≠z del ciclo, efecto difuso.</li>
    <li><strong>Deseo (1.20)</strong> ‚Äî impulsa y engancha, eleva intensidad.</li>
    <li><strong>Aversi√≥n (1.15)</strong> ‚Äî separa y endurece, impacto intermedio.</li>
  </ul>
  <p class="muted">Habla ahora o karma para siempre üòâ</p>
</section>

<section class="card">
  <h2>Tu opini√≥n importa</h2>
  <p class="muted">Para mandar tus sugerencias escr√≠benos a 
    <a href="mailto:contact@federicogarcia.art?subject=KarmaCalculator ‚Äî Sugerencias">contact@federicogarcia.art</a>
    y platiquemos tu idea.
  </p>
</section>

<footer>
  <p>¬© 2025 Federico Garc√≠a ¬∑ Proyecto Curvism‚Ñ¢ educativo y experimental</p>
  <p><a href="https://federicogarcia.art" target="_blank">federicogarcia.art</a> | 
     <a href="https://federicogarcia.art/descubriendo-linea-temporal-olvidada/" target="_blank">Libro en Amazon</a></p>
</footer>
</div>

<script>
/* ===== Fondo Matrix Dorado ===== */
const c = document.querySelector('canvas.matrix');
const ctx = c.getContext('2d');
c.width = innerWidth; c.height = innerHeight;
const chars = '‚ò∏Ô∏éÂççÂçê‡•êÈáëÂÖâÊô∫ÂñÑÁ¶èÂÜÜÂÜÜ„Äá‚óé';
const font = 16, cols = c.width / font;
const drops = Array(Math.floor(cols)).fill(1);
function drawMatrix(){
  ctx.fillStyle = 'rgba(0,10,0,0.15)';
  ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle = '#00ff66';
  ctx.font = font+'px monospace';
  drops.forEach((y,i)=>{
    const text = chars.charAt(Math.floor(Math.random()*chars.length));
    ctx.fillText(text,i*font,y*font);
    if(y*font>c.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  });
}
setInterval(drawMatrix,50);
addEventListener('resize',()=>{c.width=innerWidth;c.height=innerHeight;});

/* ===== L√≥gica de c√°lculo ===== */
const CONFIG={venenos:{ignorancia:{peso:1.10,nidanas:[1,2,3]},deseo:{peso:1.20,nidanas:[7,8,9]},aversion:{peso:1.15,nidanas:[6,10,11,12]}},
reinos:{devas:{base:+2},asuras:{base:+1},humanos:{base:0},animales:{base:-1},pretas:{base:-2},infierno:{base:-3}},
nidanas:{1:{peso:1.30,nombre:'1 Avidya'},2:{peso:1.10,nombre:'2 Samskara'},3:{peso:1.00,nombre:'3 Vij√±ana'},6:{peso:1.00,nombre:'6 Sparsha'},
7:{peso:1.05,nombre:'7 Vedana'},8:{peso:1.25,nombre:'8 Trishna'},9:{peso:1.30,nombre:'9 Upadana'},10:{peso:1.15,nombre:'10 Bhava'},
11:{peso:1.05,nombre:'11 Jati'},12:{peso:1.20,nombre:'12 Jara-Marana'}}};
const venenoSel=document.getElementById('veneno');
const reinoSel=document.getElementById('reino');
const nidanasBox=document.getElementById('nidanasBox');
const multOut=document.getElementById('multOut');
const baseInp=document.getElementById('base');
const aplicarBaseBtn=document.getElementById('aplicarBase');
const finalBaseOut=document.getElementById('finalBase');

function renderNidanas(){
  nidanasBox.innerHTML='';
  CONFIG.venenos[venenoSel.value].nidanas.forEach(id=>{
    const n=CONFIG.nidanas[id];
    const l=document.createElement('label');
    l.innerHTML=`<input type="checkbox" value="${id}"> ${n.nombre} ¬∑ peso ${n.peso}`;
    nidanasBox.appendChild(l);
  });
}
function multiplicador(){
  const v=CONFIG.venenos[venenoSel.value];
  const r=CONFIG.reinos[reinoSel.value];
  const marcados=[...nidanasBox.querySelectorAll('input:checked')].map(i=>CONFIG.nidanas[i.value].peso);
  const prom=marcados.length?marcados.reduce((a,b)=>a+b,0)/marcados.length:1;
  let val=v.peso*prom*(1+(r.base||0)/10);
  val=Math.max(0.70,Math.min(1.40,val));
  return val;
}
function update(){multOut.textContent=multiplicador().toFixed(3);}
nidanasBox.addEventListener('change',update);
venenoSel.addEventListener('change',()=>{renderNidanas();update();});
reinoSel.addEventListener('change',update);
aplicarBaseBtn.addEventListener('click',()=>{
  const base=Number(baseInp.value||0);
  finalBaseOut.textContent=(base*multiplicador()).toFixed(3);
});
renderNidanas();update();
</script>
</body>
</html>